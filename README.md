Тестовое задание для кандидатов на вакансию Backend

Задание:
Необходимо реализовать REST API для редактирования документов. В системе должна быть возможность создать черновик документа. 
Если документ в статусе черновика, его можно редактировать. Черновик документа можно опубликовать. После публикации документа, редактировать его больше нельзя.

Требования:
C#
.NET Core 7
PostgreSQL/MSSQL

API:
POST /api/document/ - создаем черновик документа
GET /api/document/{id} - получить документ по id
PATCH /api/document/{id} - редактировать документ
POST /api/document/{id}/publish - опубликовать документ
GET /api/document/?page=1&perPage=20 - получить список документов с пагинацией, сортировка в последние созданные сверху.

Дополнительные условия:

Если документ не найден, то в ответе возвращается 404 код.
При попытке редактирования документа, который уже опубликован, должно возвращаться 400.
Попытка опубликовать уже опубликованный документ возвращает 200.


Объект документа
document
    id (guid)
    status (enum{draft/published})
    data (string)
    created_date (datetime)
    modified_date (datetime)


